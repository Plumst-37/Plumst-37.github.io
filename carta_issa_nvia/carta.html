<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Carta de amor</title>
  <style>
    /* =========================================================
       RESET + VARIABLES
    ========================================================= */
    :root{
      --ease: cubic-bezier(.6,0,.2,1);

      /* Fondo / escena cálida */
      --bg1:#0b1220;
      --bg2:#151b2b;

      /* Madera (mesa) */
      --wood1:#2b1710;
      --wood2:#3a1f15;
      --wood3:#1f0f0a;

      /* Papel / sobre antiguo */
      --parch1:#f6ead8;
      --parch2:#ecd6bd;
      --parch3:#d9b99a;
      --edge: rgba(33, 20, 14, .22);

      /* Papel carta */
      --paper1:#fffaf0;
      --paper2:#fff0dc;
      --ink:#1f2937;

      /* Cera */
      --wax1:#c63a3a;
      --wax2:#a9152a;
      --wax3:#6f0d17;

      /* Rosas/verde */
      --leaf1:#2db58a;
      --leaf2:#1da07b;

      /* Sombras */
      --shadowBig: 0 26px 82px rgba(0,0,0,.50);
      --shadowMed: 0 12px 40px rgba(0,0,0,.30);
      --shadowSoft: 0 8px 24px rgba(0,0,0,.22);

      /* Tamaños responsivos */
      --w: min(420px, 90vw);
      --h: calc(var(--w) * 0.68);

      --paperW: calc(var(--w) * 0.90);
      --paperH: calc(var(--h) * 1.62);

      --radius: 18px;

      /* Foto (ajusta aquí si quieres) */
      --photoH: clamp(150px, 24vw, 210px);

      /* Tipografía "tinta" */
      --script: "Georgia", "Times New Roman", serif;
    }

    *{ box-sizing: border-box; }
    html, body{ height: 100%; }

    body{
      margin:0;
      display:grid;
      place-items:center;
      overflow:hidden;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background:
        radial-gradient(1200px 700px at 18% 18%, rgba(255, 174, 210, .18), transparent 58%),
        radial-gradient(1000px 600px at 82% 28%, rgba(255, 224, 198, .12), transparent 60%),
        radial-gradient(900px 520px at 50% 92%, rgba(170, 255, 245, .10), transparent 62%),
        linear-gradient(145deg, var(--bg1), var(--bg2) 55%, #080b13);
      color: white;
    }

    /* Grano sutil */
    body::before{
      content:"";
      position:fixed;
      inset:-40px;
      pointer-events:none;
      opacity:.12;
      background:
        repeating-linear-gradient(0deg, rgba(255,255,255,.07) 0 1px, transparent 1px 3px),
        repeating-linear-gradient(90deg, rgba(255,255,255,.05) 0 1px, transparent 1px 4px);
      filter: blur(1px);
      transform: rotate(-1.5deg) scale(1.05);
      mix-blend-mode: overlay;
    }

    .stage{
      width: min(620px, 94vw);
      padding: 18px 14px 26px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap: 14px;
    }

    /* =========================================================
       ESCENA / TARJETA
    ========================================================= */
    .card{
      width: var(--w);
      height: calc(var(--h) + 320px);
      position:relative;
      display:grid;
      place-items:center;
      perspective: 1200px;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      outline: none;
    }

    .hint{
      font-size: 13px;
      letter-spacing: .35px;
      color: rgba(255,255,255,.80);
      opacity: 1;
      transform: translateY(0);
      transition: opacity .35s var(--ease), transform .35s var(--ease);
      text-align:center;
    }
    .card.open + .hint{
      opacity: 0;
      transform: translateY(-8px);
      pointer-events:none;
    }

    /* "Mesa" estilo foto (bodegón) */
    .desk{
      position:absolute;
      inset:-30px;
      border-radius: 30px;
      pointer-events:none;
      z-index:0;
      opacity:.95;
      background:
        radial-gradient(900px 360px at 55% 100%, rgba(0,0,0,.40), transparent 62%),
        radial-gradient(700px 250px at 18% 22%, rgba(255,240,225,.10), transparent 58%),
        radial-gradient(600px 260px at 88% 25%, rgba(255,255,255,.05), transparent 60%),
        linear-gradient(180deg, rgba(0,0,0,.08), rgba(0,0,0,.22)),
        linear-gradient(135deg, var(--wood1), var(--wood2) 55%, var(--wood3));
      transform: translateY(26px) scale(1.12);
      mask-image: radial-gradient(circle at 50% 48%, black 62%, transparent 82%);
    }

    /* Luz cálida */
    .warm-light{
      position:absolute;
      left:50%;
      bottom: calc(22px + var(--h)*0.42);
      width: calc(var(--w) * 1.55);
      height: calc(var(--h) * 1.25);
      transform: translateX(-50%) translateY(34px);
      border-radius: 999px;
      background: radial-gradient(circle at 50% 50%, rgba(255, 214, 170, .22), transparent 60%);
      filter: blur(18px);
      opacity: 0;
      transition: opacity 600ms var(--ease), transform 900ms var(--ease);
      pointer-events:none;
      z-index:1;
    }
    .card.open .warm-light{
      opacity: 1;
      transform: translateX(-50%) translateY(0px);
    }

    /* =========================================================
       ELEMENTOS DE AMBIENTACIÓN (taza, sello, flores) — CSS/SVG
    ========================================================= */
    .props{
      position:absolute;
      inset:0;
      pointer-events:none;
      z-index:2;
    }

    /* taza simple */
    .cup{
      position:absolute;
      right: -8px;
      top: 24px;
      width: 118px;
      height: 118px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 30% 28%, rgba(255,255,255,.65), rgba(255,255,255,.25) 45%, rgba(0,0,0,.10) 100%),
        radial-gradient(circle at 55% 55%, rgba(95, 58, 35, .85), rgba(60, 32, 18, .95) 65%, rgba(20,10,6,.95));
      box-shadow: 0 24px 38px rgba(0,0,0,.30);
      opacity: .85;
      transform: rotate(10deg);
      filter: blur(.1px);
    }
    .cup::before{
      content:"";
      position:absolute;
      inset: 16px;
      border-radius: 999px;
      background: radial-gradient(circle at 40% 35%, rgba(255,255,255,.35), transparent 55%);
      box-shadow: inset 0 0 0 12px rgba(255,255,255,.22);
      opacity:.95;
    }
    .cup::after{
      content:"";
      position:absolute;
      right:-16px;
      top: 34px;
      width: 34px;
      height: 44px;
      border-radius: 999px;
      border: 10px solid rgba(255,255,255,.32);
      border-left-color: transparent;
      box-shadow: 0 16px 20px rgba(0,0,0,.18);
      opacity:.85;
    }

    /* flores SVG (como la referencia) */
    .flowers{
      position:absolute;
      left: -18px;
      top: 34px;
      width: 170px;
      opacity:.95;
      filter: drop-shadow(0 16px 28px rgba(0,0,0,.26));
      transform: rotate(-6deg);
    }

    /* =========================================================
       SOBRE ANTIGUO (estilo referencia)
    ========================================================= */
    .envelope{
      position:absolute;
      left:50%;
      bottom: 22px;
      transform: translateX(-50%);
      width: var(--w);
      height: var(--h);
      border-radius: var(--radius);
      z-index: 12;

      background:
        radial-gradient(900px 240px at 20% 0%, rgba(255,255,255,.26), transparent 60%),
        radial-gradient(800px 280px at 80% 70%, rgba(0,0,0,.08), transparent 65%),
        repeating-linear-gradient(0deg, rgba(0,0,0,.018) 0 1px, transparent 1px 6px),
        linear-gradient(180deg, var(--parch1), var(--parch2));
      border: 1px solid rgba(33, 20, 14, .20);
      box-shadow: var(--shadowBig);
      overflow: hidden;

      transition: transform 950ms var(--ease), box-shadow 950ms var(--ease), filter 950ms var(--ease);
      will-change: transform, box-shadow;
    }

    /* Manchas suaves del papel */
    .envelope::before{
      content:"";
      position:absolute;
      inset: 0;
      border-radius: var(--radius);
      background:
        radial-gradient(220px 160px at 18% 26%, rgba(160,110,70,.12), transparent 70%),
        radial-gradient(260px 200px at 86% 58%, rgba(160,110,70,.10), transparent 72%),
        radial-gradient(220px 160px at 52% 86%, rgba(160,110,70,.08), transparent 72%);
      pointer-events:none;
      mix-blend-mode:multiply;
      opacity:.9;
    }

    /* costura */
    .stitch{
      position:absolute;
      inset: 10px;
      border-radius: calc(var(--radius) - 10px);
      pointer-events:none;
      z-index: 1;
      background:
        repeating-linear-gradient(90deg, rgba(0,0,0,.06) 0 6px, transparent 6px 10px),
        repeating-linear-gradient(0deg, rgba(0,0,0,.05) 0 6px, transparent 6px 10px);
      mask:
        linear-gradient(#000,#000) content-box,
        linear-gradient(#000,#000);
      -webkit-mask:
        linear-gradient(#000,#000) content-box,
        linear-gradient(#000,#000);
      padding: 2px;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.22);
      opacity: .30;
    }

    /* tapa */
    .flap{
      position:absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 66%;
      transform-origin: 50% 0%;
      transform: rotateX(0deg);
      transition: transform 1050ms var(--ease);
      z-index: 6;
      will-change: transform;
    }
    .flap::before{
      content:"";
      position:absolute;
      inset: 0;
      border-radius: var(--radius);
      background:
        radial-gradient(800px 180px at 50% 0%, rgba(255,255,255,.20), transparent 60%),
        repeating-linear-gradient(0deg, rgba(0,0,0,.015) 0 1px, transparent 1px 7px),
        linear-gradient(180deg, var(--parch2), var(--parch3));
      border: 1px solid rgba(33, 20, 14, .18);
      clip-path: polygon(0% 0%, 100% 0%, 50% 100%);
      box-shadow: 0 20px 28px rgba(0,0,0,.14);
    }

    /* frente (triángulos) */
    .front{
      position:absolute;
      inset:0;
      border-radius: var(--radius);
      overflow:hidden;
      pointer-events:none;
      z-index: 7;
    }
    .front .side{
      position:absolute;
      top: 10%;
      width: 56%;
      height: 92%;
      opacity: .55;
      background:
        radial-gradient(300px 180px at 30% 40%, rgba(255,255,255,.18), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.22), rgba(0,0,0,.06));
    }
    .front .side.left{
      left:-5%;
      clip-path: polygon(0% 0%, 100% 50%, 0% 100%);
    }
    .front .side.right{
      right:-5%;
      clip-path: polygon(100% 0%, 0% 50%, 100% 100%);
    }
    .front .bottom{
      position:absolute;
      left:0;
      bottom:-2px;
      width:100%;
      height: 62%;
      background:
        radial-gradient(700px 220px at 50% 0%, rgba(255,255,255,.18), transparent 60%),
        linear-gradient(180deg, var(--parch3), rgba(0,0,0,.05));
      clip-path: polygon(0% 100%, 50% 0%, 100% 100%);
      border-top: 1px solid rgba(33, 20, 14, .10);
    }

    /* cuerda del sello */
    .string{
      position:absolute;
      left:50%;
      top: 0;
      width: 8px;
      height: 100%;
      transform: translateX(-50%);
      z-index: 8;
      opacity: .55;
      background:
        repeating-linear-gradient(0deg, rgba(0,0,0,.16) 0 3px, rgba(255,255,255,.10) 3px 6px);
      border-radius: 999px;
      mix-blend-mode: multiply;
    }

    /* sello */
    .seal{
      position:absolute;
      left:50%;
      top: 58%;
      transform: translate(-50%, -50%);
      width: 58px;
      height: 58px;
      border-radius: 999px;
      z-index: 9;
      background:
        radial-gradient(circle at 32% 28%, rgba(255,255,255,.30), transparent 45%),
        radial-gradient(circle at 70% 78%, rgba(0,0,0,.20), transparent 55%),
        conic-gradient(from 220deg, rgba(255,255,255,.10), transparent 35%, rgba(0,0,0,.08), transparent 78%, rgba(255,255,255,.08)),
        linear-gradient(145deg, var(--wax1), var(--wax2) 55%, var(--wax3));
      box-shadow: 0 16px 28px rgba(0,0,0,.30);
      border: 1px solid rgba(255,255,255,.16);
      transition: transform 950ms var(--ease), opacity 950ms var(--ease);
    }
    .seal::before{
      content:"";
      position:absolute;
      inset: 12px;
      border-radius: 14px;
      background: rgba(255,255,255,.90);
      filter: drop-shadow(0 2px 2px rgba(0,0,0,.22));
      clip-path: path("M 24 10 C 21 6, 14 6, 14 12 C 14 17, 20 20, 24 26 C 28 20, 34 17, 34 12 C 34 6, 27 6, 24 10 Z");
      transform: scale(.92);
    }
    .seal::after{
      content:"";
      position:absolute;
      inset: 0;
      border-radius: 999px;
      box-shadow: inset 0 0 0 2px rgba(255,255,255,.08), inset 0 -10px 18px rgba(0,0,0,.18);
      pointer-events:none;
    }

    /* =========================================================
       PAPEL (sale y se desdobla) + CONTENIDO
    ========================================================= */
    .paper{
      position:absolute;
      left:50%;
      bottom: calc(22px + (var(--h) * 0.10));
      width: var(--paperW);
      height: var(--paperH);
      transform: translateX(-50%) translateY(86px) scale(.96);
      opacity: 0;

      border-radius: 16px;
      background:
        radial-gradient(900px 200px at 50% 0%, rgba(255,255,255,.78), transparent 62%),
        radial-gradient(800px 260px at 18% 45%, rgba(0,0,0,.05), transparent 60%),
        radial-gradient(900px 360px at 92% 86%, rgba(0,0,0,.04), transparent 66%),
        repeating-linear-gradient(0deg, rgba(0,0,0,.012) 0 1px, transparent 1px 6px),
        linear-gradient(180deg, var(--paper1), var(--paper2));
      border: 1px solid rgba(17,24,39,.10);
      box-shadow: var(--shadowMed);
      overflow:hidden;

      z-index: 20; /* por encima del tap-area */
      will-change: transform, opacity;
      pointer-events: none; /* cerrado: no bloquea click */
    }
    .paper::after{
      content:"";
      position:absolute;
      inset: 10px;
      border-radius: 12px;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,.06), inset 0 18px 26px rgba(0,0,0,.03);
      pointer-events:none;
    }

    /* Dobleces */
    .fold{
      position:absolute;
      inset:0;
      display:flex;
      flex-direction:column;
      transform-style: preserve-3d;
      z-index:0;
      pointer-events:none;
    }
    .panel{
      flex: 1;
      position:relative;
      transform-style: preserve-3d;
      backface-visibility:hidden;
      transform-origin: 50% 0%;
      transition: transform 900ms var(--ease), filter 900ms var(--ease);
    }
    .panel:not(:last-child)::after{
      content:"";
      position:absolute;
      left: 6%;
      right: 6%;
      bottom: -1px;
      height: 2px;
      background: linear-gradient(90deg, transparent, rgba(31,41,55,.18), transparent);
      opacity: .44;
      filter: blur(.25px);
    }
    .panel::before{
      content:"";
      position:absolute;
      inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,.03), transparent 58%);
      opacity:.9;
    }

    /* Contenido carta */
    .paper-inner{
      position:absolute;
      inset:0;
      padding: 20px 18px 16px;
      display:flex;
      flex-direction:column;
      gap: 10px;
      z-index:2;

      opacity: 0;
      transform: translateY(10px);
      transition: opacity 650ms var(--ease), transform 650ms var(--ease);
      pointer-events:auto;
    }

    .ink-header{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap: 10px;
      margin-top: 2px;
    }
    .ink-title{
      font-family: var(--script);
      font-weight: 700;
      font-size: 18px;
      color: rgba(31,41,55,.92);
      letter-spacing: .2px;
    }
    .ink-stamp{
      font-family: var(--script);
      font-style: italic;
      font-size: 12px;
      color: rgba(31,41,55,.55);
      transform: rotate(-2deg);
    }

    .text{
      margin: 0;
      color: rgba(31,41,55,.92);
      line-height: 1.62;
      font-size: 14.7px;
    }

    .divider{
      height: 1px;
      width: 100%;
      background: linear-gradient(90deg, transparent, rgba(31,41,55,.18), transparent);
      margin: 6px 0 2px;
    }

    /* Foto abajo con marco romántico */
    .photo-frame{
      margin-top: 10px;
      border-radius: 16px;
      padding: 10px;
      background:
        radial-gradient(260px 90px at 20% 0%, rgba(255,255,255,.92), rgba(255,255,255,.55) 55%, rgba(255,255,255,.22)),
        linear-gradient(145deg, rgba(255,255,255,.70), rgba(255,255,255,.40));
      border: 1px solid rgba(31,41,55,.10);
      box-shadow:
        0 18px 30px rgba(0,0,0,.10),
        inset 0 0 0 1px rgba(255,255,255,.55);
      position: relative;
      overflow: hidden;
    }
    .photo-frame::before{
      content:"";
      position:absolute;
      inset: 0;
      background:
        radial-gradient(700px 140px at 50% 0%, rgba(198,58,58,.12), transparent 60%),
        radial-gradient(520px 220px at 85% 95%, rgba(255,92,138,.10), transparent 60%);
      opacity: .95;
      pointer-events:none;
      mix-blend-mode: soft-light;
    }
    .photo-frame::after{
      content:"";
      position:absolute;
      inset: 10px;
      border-radius: 12px;
      box-shadow: inset 0 0 0 1px rgba(31,41,55,.10);
      pointer-events:none;
    }
    .photo{
      width: 100%;
      height: var(--photoH);
      object-fit: cover;
      border-radius: 12px;
      display:block;
      box-shadow: 0 12px 22px rgba(0,0,0,.14);
      filter: saturate(1.02) contrast(1.03);
      background: rgba(0,0,0,.05);
    }

    .signature{
      margin-top: auto;
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap: 12px;
      padding-top: 10px;
    }
    .sig{
      display:flex;
      flex-direction:column;
      gap: 2px;
      color: rgba(31,41,55,.92);
      font-family: var(--script);
    }
    .sig .name{
      font-weight: 700;
      font-size: 15px;
      letter-spacing: .15px;
    }
    .sig .small{
      font-size: 12px;
      color: rgba(31,41,55,.60);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    .close-btn{
      font-size: 12px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(31,41,55,.14);
      background: rgba(255,255,255,.74);
      color: rgba(31,41,55,.92);
      cursor:pointer;
      transition: transform .2s var(--ease), box-shadow .2s var(--ease), background .2s var(--ease);
      box-shadow: 0 10px 20px rgba(0,0,0,.12);
      white-space: nowrap;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    .close-btn:hover{ transform: translateY(-1px); box-shadow: 0 14px 26px rgba(0,0,0,.16); }
    .close-btn:active{ transform: translateY(0); box-shadow: 0 10px 20px rgba(0,0,0,.12); }
    .close-btn:focus-visible{
      outline: 3px solid rgba(198,58,58,.28);
      outline-offset: 2px;
    }

    /* =========================================================
       TAP AREA (FIX)
       - Captura clic/tap para abrir/cerrar
       - Papel no bloquea en estado cerrado (pointer-events:none)
    ========================================================= */
    .tap-area{
      position:absolute;
      inset: 0;
      z-index: 15; /* entre sobre y papel */
      cursor: pointer;
      border-radius: 26px;
      background: transparent;
    }

    /* =========================================================
       ESTADOS: .open / .closed (secuencia)
    ========================================================= */
    /* CLOSED */
    .card.closed .flap{ transform: rotateX(0deg); }

    .card.closed .paper{
      opacity: 0;
      transform: translateX(-50%) translateY(86px) scale(.96);
      transition:
        opacity 240ms var(--ease),
        transform 820ms var(--ease);
      pointer-events:none;
    }
    .card.closed .paper-inner{
      opacity: 0;
      transform: translateY(10px);
      transition-delay: 0ms;
    }
    .card.closed .panel.p1{ transform: rotateX(0deg); }
    .card.closed .panel.p2{ transform: rotateX(-132deg); filter: brightness(.985); }
    .card.closed .panel.p3{ transform: rotateX(132deg); filter: brightness(.975); }

    .card.closed .envelope{
      filter: saturate(1);
    }

    /* OPEN */
    .card.open .envelope{
      transform: translateX(-50%) translateY(8px);
      box-shadow: 0 30px 92px rgba(0,0,0,.54);
      filter: saturate(1.03);
    }
    .card.open .flap{
      transform: rotateX(168deg);
    }
    .card.open .seal{
      transform: translate(-50%, -50%) scale(.96) rotate(-2deg);
      opacity: .92;
    }

    /* Papel sale */
    .card.open .paper{
      opacity: 1;
      transform: translateX(-50%) translateY(-160px) scale(1);
      transition:
        opacity 380ms var(--ease) 120ms,
        transform 980ms var(--ease) 120ms;
      pointer-events:auto;
    }

    /* Desdoble secuencial */
    .card.open .panel.p1{ transform: rotateX(0deg); transition-delay: 560ms; filter:none; }
    .card.open .panel.p2{ transform: rotateX(0deg); transition-delay: 700ms; filter:none; }
    .card.open .panel.p3{ transform: rotateX(0deg); transition-delay: 840ms; filter:none; }

    /* Texto aparece */
    .card.open .paper-inner{
      opacity: 1;
      transform: translateY(0);
      transition-delay: 980ms;
    }

    /* Flotar un poquito */
    .card.open .paper{ animation: floaty 2.8s var(--ease) 1.2s infinite; }
    @keyframes floaty{
      0%,100%{ transform: translateX(-50%) translateY(-160px) scale(1); }
      50%{ transform: translateX(-50%) translateY(-166px) scale(1); }
    }

    /* =========================================================
       RESPONSIVE
    ========================================================= */
    @media (max-width: 420px){
      :root{
        --radius: 16px;
        --w: min(392px, 92vw);
        --paperH: calc(var(--h) * 1.75);
        --photoH: clamp(140px, 30vw, 190px);
      }
      .paper-inner{ padding: 18px 16px 14px; }
      .text{ font-size: 14.3px; }
      .cup{ width: 106px; height: 106px; right: -10px; top: 18px; }
      .flowers{ width: 155px; left: -22px; top: 30px; }
    }

    @media (prefers-reduced-motion: reduce){
      *{ transition-duration: 1ms !important; animation-duration: 1ms !important; }
    }
  </style>
</head>

<body>
  <main class="stage" aria-label="Carta estilo amor antiguo">
    <section class="card closed" id="card" role="button" aria-label="Abrir carta" tabindex="0">
      <div class="desk" aria-hidden="true"></div>
      <div class="warm-light" aria-hidden="true"></div>

      <!-- Props tipo bodegón -->
      <div class="props" aria-hidden="true">
        <div class="cup"></div>

        <svg class="flowers" viewBox="0 0 200 150">
          <defs>
            <radialGradient id="petal" cx="35%" cy="35%" r="70%">
              <stop offset="0%" stop-color="#fff"/>
              <stop offset="35%" stop-color="#ffe3d8"/>
              <stop offset="100%" stop-color="#ffb6a7"/>
            </radialGradient>
            <radialGradient id="leaf" cx="35%" cy="35%" r="70%">
              <stop offset="0%" stop-color="#eafff3"/>
              <stop offset="55%" stop-color="#9be7c3"/>
              <stop offset="100%" stop-color="#2db58a"/>
            </radialGradient>
          </defs>

          <!-- hojas -->
          <path d="M42 110 C 60 82, 88 78, 110 96 C 90 122, 62 128, 42 110 Z" fill="url(#leaf)" opacity=".92"/>
          <path d="M70 126 C 88 98, 116 94, 138 112 C 118 138, 90 144, 70 126 Z" fill="url(#leaf)" opacity=".86"/>

          <!-- flores -->
          <g transform="translate(92,56) rotate(-10)">
            <circle cx="0" cy="0" r="12" fill="#ffd7a8"/>
            <g fill="url(#petal)">
              <ellipse cx="0" cy="-18" rx="10" ry="16"/>
              <ellipse cx="16" cy="-10" rx="10" ry="16" transform="rotate(36)"/>
              <ellipse cx="19" cy="8" rx="10" ry="16" transform="rotate(72)"/>
              <ellipse cx="8" cy="22" rx="10" ry="16" transform="rotate(108)"/>
              <ellipse cx="-10" cy="22" rx="10" ry="16" transform="rotate(144)"/>
              <ellipse cx="-20" cy="8" rx="10" ry="16" transform="rotate(180)"/>
              <ellipse cx="-16" cy="-10" rx="10" ry="16" transform="rotate(216)"/>
            </g>
            <circle cx="0" cy="0" r="7" fill="#ffb66b"/>
          </g>

          <g transform="translate(132,74) rotate(8)">
            <circle cx="0" cy="0" r="10" fill="#ffd7a8"/>
            <g fill="url(#petal)">
              <ellipse cx="0" cy="-15" rx="9" ry="14"/>
              <ellipse cx="13" cy="-7" rx="9" ry="14" transform="rotate(36)"/>
              <ellipse cx="16" cy="6" rx="9" ry="14" transform="rotate(72)"/>
              <ellipse cx="6" cy="18" rx="9" ry="14" transform="rotate(108)"/>
              <ellipse cx="-6" cy="18" rx="9" ry="14" transform="rotate(144)"/>
              <ellipse cx="-16" cy="6" rx="9" ry="14" transform="rotate(180)"/>
              <ellipse cx="-13" cy="-7" rx="9" ry="14" transform="rotate(216)"/>
            </g>
            <circle cx="0" cy="0" r="6" fill="#ffb66b"/>
          </g>
        </svg>
      </div>

      <!-- PAPEL -->
      <article class="paper" id="paper" aria-live="polite">
        <div class="fold" aria-hidden="true">
          <div class="panel p1"></div>
          <div class="panel p2"></div>
          <div class="panel p3"></div>
        </div>

        <div class="paper-inner">
          <div class="ink-header">
            <div class="ink-title">Para ti, con amor</div>
            <div class="ink-stamp">— escrito con cariño</div>
          </div>

          <p class="text" style="font-family: var(--script); font-size: 15px;">
            Querido/a:
          </p>

          <p class="text">
            No sé cómo explicarlo sin sonreír… pero desde que estás, todo se siente más bonito.
            Gracias por tu paciencia, por tu forma de mirar el mundo, y por hacerme sentir en casa,
            incluso con una sola palabra.
          </p>

          <div class="divider" aria-hidden="true"></div>

          <p class="text">
            Si hoy necesitas un recordatorio: eres increíble, y mereces cosas lindas.
            Aquí va un abrazo suave, de esos que se quedan un rato.
          </p>

          <!-- FOTO ABAJO -->
          <div class="photo-frame" aria-label="Foto al final de la carta">
            <img class="photo" src="Foto.jpg" alt="Foto" />
          </div>

          <div class="signature">
            <div class="sig">
              <div class="name">Con todo mi cariño,</div>
              <div class="small">— Siempre contigo ✨</div>
            </div>
            <button class="close-btn" id="closeBtn" type="button" aria-label="Cerrar carta">
              Cerrar carta
            </button>
          </div>
        </div>
      </article>

      <!-- SOBRE -->
      <div class="envelope" aria-hidden="true">
        <div class="stitch"></div>
        <div class="flap"></div>
        <div class="front">
          <div class="side left"></div>
          <div class="side right"></div>
          <div class="bottom"></div>
          <div class="string"></div>
          <div class="seal"></div>
        </div>
      </div>

      <!-- ÁREA PARA TOCAR / CLIC -->
      <div class="tap-area" id="tapArea" aria-hidden="true"></div>
    </section>

    <div class="hint" id="hint">Tócame para abrir</div>
  </main>

  <script>
    (function () {
      const card = document.getElementById('card');
      const tapArea = document.getElementById('tapArea');
      const closeBtn = document.getElementById('closeBtn');

      function setOpen(isOpen){
        card.classList.toggle('open', isOpen);
        card.classList.toggle('closed', !isOpen);
        card.setAttribute('aria-label', isOpen ? 'Cerrar carta' : 'Abrir carta');
      }

      function toggle(){ setOpen(!card.classList.contains('open')); }

      tapArea.addEventListener('click', toggle);

      card.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          toggle();
        }
      });

      closeBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        setOpen(false);
      });
    })();
  </script>
</body>
</html>
